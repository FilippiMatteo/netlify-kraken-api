(this["webpackJsonpkraken-api"]=this["webpackJsonpkraken-api"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(19),i=n.n(r),o=(n(26),n(10)),l=n(4),d=(n(7),n(3)),j=n.n(d),b=n(6),u=n(2),h=function(e){return"USD"===e||"EUR"===e||"GBP"===e||"JPY"===e||"CHF"===e||"AUS"===e},p=function(e){var t="";switch(e){case"USD":t="$";break;case"EUR":case"GBP":t="\u20ac";break;case"JPY":t="Y";break;case"CHF":t="C";break;case"AUS":t="AUD"}return t},m=function(){var e=Object(b.a)(j.a.mark((function e(t,n,c){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://heroku-kraken-nodejs.herokuapp.com/kraken/"+t,{method:c||"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch((function(e){console.error(e),alert(e)}));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),O=function(e,t){var n;return Object.entries(e).map((function(e,c){var a=Object(u.a)(e,2),s=a[0],r=a[1];return s===t&&(n=r),n})),n},v=function(e){return function(t){return t.reduce((function(t,n){var c=n[e];return t[c]=(t[c]||[]).concat(n),t}),{})}};var x=function(e){var t="bar ";return t+=e.spinnerWidth||"",Object(c.jsx)("div",{id:"spinner",children:Object(c.jsx)("div",{className:e.visibleSpinner,children:Object(c.jsx)("div",{id:"ticker-chart-pulldown",children:Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("div",{className:"progress progress-info progress-striped active ",children:Object(c.jsx)("div",{className:t})}),Object(c.jsx)("p",{className:"mono",children:"Loading..."})]})})})})};var f=function(){var e=Object(a.useState)(["",""]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)([]),h=Object(u.a)(d,2),p=h[0],O=h[1],v=Object(a.useState)([]),f=Object(u.a)(v,2),g=f[0],N=f[1];Object(a.useEffect)((function(){w()}),[]);var w=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("show"),N("width-15"),m("getSecretKey",{},"POST").then((function(e){N("width-50"),s([e.key,e.secret]||!1),N("width-100"),setTimeout((function(){O("hide"),N("width-15")}),1e3)})).catch((function(e){alert(e),O("hide"),N("width-15")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Home"}),Object(c.jsxs)("div",{className:"padding-20",children:[Object(c.jsxs)("div",{className:"margin-top-10 padding-20",children:[Object(c.jsx)("p",{children:"Before start to use this project you need to start the backend  with nodejs  "}),Object(c.jsxs)("p",{children:["After this you need to set api secret (only for trades, withdraw and deposit is not implented yet) on ",Object(c.jsx)("a",{href:"https://www.kraken.com",target:"_blank",rel:"noopener noreferrer",children:" Kraken official site "})]})]}),Object(c.jsx)(x,{visibleSpinner:p,spinnerWidth:g}),Object(c.jsx)("div",{className:"margin-top-10 padding-20",children:Object(c.jsx)("div",{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"api_key",children:"API Key"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"api_key",placeholder:"Paste Enter key",value:n[0],onChange:function(e){s([e.target.value,n[1]])}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleInputPassword1",children:"API Private Key"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"api_private_key",placeholder:"Paste secret here",value:n[1],onChange:function(e){s([n[0],e.target.value])}})]}),Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1",value:o,onChange:function(e){l(e.target.checked)}}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"exampleCheck1",children:"Are you sure to change Kraken_Keys.js file?"})]}),Object(c.jsx)("button",{type:"button",className:"btn btn-primary margin-top-10",onClick:function(){o?(O("show"),N("width-15"),m("setSecretKey",{key:n[0],secret:n[1]},"POST").then((function(e){N("width-50"),N("width-100"),setTimeout((function(){alert(e),console.log(e),O("hide"),N("width-15")}),500)}))):alert("Check the box for submit the changes!")},children:"Save"})]})})})]})]})};var g=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("h1",{children:"About"})})};n(28);var N=function(){var e=Object(a.useState)((function(){return function(){var e,t=window.location.pathname.substring(1);t=t.substring(0,t.indexOf("/")>-1?t.indexOf("/"):t.length);var n=["","","","","","",""];switch(t){case"balance":e=1;break;case"addorder":e=2;break;case"tradesHistory":e=3;break;case"openPositions":e=4;break;case"openOrders":e=5;break;default:e=0}return n[e]="header-selected",n}()})),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(c.jsx)("nav",{className:"top-nav",children:Object(c.jsxs)("ul",{className:"primary",children:[Object(c.jsx)("li",{className:n[0],onClick:function(){s(["header-selected","","","","","",""])},children:Object(c.jsx)(o.b,{to:"/",children:"Home "})}),Object(c.jsx)("li",{className:n[1],onClick:function(){s(["","header-selected","","","","",""])},children:Object(c.jsx)(o.b,{to:"/balance",children:"Balance"})}),Object(c.jsx)("li",{className:n[2],onClick:function(){s(["","","header-selected","","","",""])},children:Object(c.jsx)(o.b,{to:"/addorder/XXBT",children:"Add Order"})}),Object(c.jsx)("li",{className:n[3],onClick:function(){s(["","","","header-selected","","",""])},children:Object(c.jsx)(o.b,{to:"/tradesHistory",children:"Trades History"})}),Object(c.jsx)("li",{className:n[4],onClick:function(){s(["","","","","header-selected","",""])},children:Object(c.jsx)(o.b,{to:"/openPositions",children:"Open Positions"})}),Object(c.jsx)("li",{className:n[5],onClick:function(){s(["","","","","","header-selected",""])},children:Object(c.jsx)(o.b,{to:"/openOrders",children:"Open Orders"})})]})})};var w=function(){return Object(c.jsxs)("header",{className:"kraken-header",children:[Object(c.jsx)("a",{href:"!#",className:"header-logo",children:"Kraken"}),Object(c.jsx)(N,{})]})};var y=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),l=i[0],d=i[1],p=Object(a.useState)([]),O=Object(u.a)(p,2),v=O[0],f=O[1];Object(a.useEffect)((function(){g()}),[]);var g=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d("show"),f("width-15"),m("balance").then((function(e){f("width-50"),"Error"!==e?s(e):alert("Error bad api secret codes"),f("width-100"),setTimeout((function(){d("hide"),f("width-15")}),1e3)})).catch((function(e){alert(e),d("hide"),f("width-15")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=n.result||[];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Balance"}),Object(c.jsx)(x,{visibleSpinner:l,spinnerWidth:v}),Object(c.jsx)("div",{className:"results b",children:function(e){return Object.entries(e).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],s=n[1],r="trade ";return r+=h(a.substring(1))||"KFEE"===a?"hide":"",Object(c.jsxs)("div",{className:"pairs bc",children:[Object(c.jsx)("img",{className:"crypto-png",src:"".concat("","/cryptocurrency/").concat(a.toLowerCase(),".png"),alt:a.toLowerCase()}),Object(c.jsxs)("span",{children:[a," : ",s]}),Object(c.jsxs)("button",{className:r,children:[" ",Object(c.jsx)(o.b,{to:"/addorder/"+a,children:" Trade "})," "]})]},a)}))}(N)})]})};var k=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("h1",{children:"Signup"})})};var S=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("h1",{children:"Login"})})};n(34);var C=function(){var e=document.querySelector("#tooltip_volume_pair1"),t=document.querySelector("#tooltip_volume_pair2"),n=Object(l.f)("/addorder/:pair"),s=Object(a.useState)([n.params.pair.substring(1),"EUR",n.params.pair,"ZEUR"]),r=Object(u.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(),h=Object(u.a)(d,2),p=h[0],f=h[1],g=Object(a.useState)(),N=Object(u.a)(g,2),w=N[0],y=N[1],k=Object(a.useState)(),S=Object(u.a)(k,2),C=S[0],P=S[1],A=Object(a.useState)(),T=Object(u.a)(A,2),F=T[0],L=T[1],E=Object(a.useState)(0),_=Object(u.a)(E,2),D=_[0],I=_[1],W=Object(a.useState)(0),H=Object(u.a)(W,2),U=H[0],B=H[1],K=Object(a.useState)([]),R=Object(u.a)(K,2),q=R[0],X=R[1],J=Object(a.useState)([]),M=Object(u.a)(J,2),V=M[0],z=M[1],G=Object(a.useState)([!1,"input-small ralign hmarg0right","input-medium ralign hmarg0right"]),Y=Object(u.a)(G,2),$=Y[0],Z=Y[1],Q=Object(a.useState)(["active","",""]),ee=Object(u.a)(Q,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(["show","hide","hide"]),ae=Object(u.a)(ce,2),se=ae[0],re=ae[1],ie=Object(a.useState)(["btn btn-success","btn"]),oe=Object(u.a)(ie,2),le=oe[0],de=oe[1],je=Object(a.useState)(["btn btn-type btn-small","btn btn-type btn-small active"]),be=Object(u.a)(je,2),ue=be[0],he=be[1],pe=Object(a.useState)(),me=Object(u.a)(pe,2),Oe=(me[0],me[1]),ve=Object(a.useState)(!0),xe=Object(u.a)(ve,2),fe=xe[0],ge=xe[1],Ne=Object(a.useState)({pair:"XBTUSD",type:"buy",ordertype:"limit",leverage:"none",price:"0",volume:w}),we=Object(u.a)(Ne,2),ye=we[0],ke=we[1],Se=Object(a.useState)("dropdown-menu small"),Ce=Object(u.a)(Se,2),Pe=Ce[0],Ae=Ce[1];Object(a.useEffect)((function(){X("show"),z("width-15"),Promise.all([function(){z("width-50")},m("assetPairs"),m("balance")]).then((function(e){Fe(e[2],n.params.pair).then((function(e){})),Te(e[1],n.params.pair).then((function(e){})),z("width-100"),setTimeout((function(){X("hide")}),1e3)})).catch((function(e){alert(e),X("hide")}))}),[]);var Te=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.entries(t.result).map((function(e,t){var n=Object(u.a)(e,2);n[0];return n[1]})),c=v("base"),f(c(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(O(t.result,n)),L(t.result||void 0);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(ye),m("addOrder",ye,"POST").then((function(e){alert(e.result.descr.order)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ee(e){switch(e){case"order-simple":ne(["active","",""]),re(["show","hide","hide"]);break;case"order-int":ne(["","active",""]),re(["hide","show","hide"]);break;case"order-adv":ne(["","","active"]),re(["hide","hide","show"])}}function _e(e,t){var n=ye;n[e]=t,ke(n)}function De(e,t){document.querySelectorAll(".trade-margin-selector").forEach((function(e){e.classList.remove("active")})),document.querySelector("#"+e).classList.add("active"),Oe(t),_e("leverage",t)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Add Order"}),Object(c.jsx)(x,{visibleSpinner:q,spinnerWidth:V}),Object(c.jsxs)("div",{className:"margin-top-10",children:[Object(c.jsxs)("span",{className:"margin-right-20",children:["Total Balance ",i[0]," ",C]}),Object(c.jsx)("div",{className:"ib hmarg20left",children:Object(c.jsxs)("div",{id:"dropdown-list-pairs",className:"dropdown",onClick:function(){document.querySelector("#dropdown-list-pairs").classList.toggle("open")},children:[Object(c.jsxs)("a",{className:"btn dropdown-toggle",children:[Object(c.jsxs)("span",{className:"pairtext",children:[" ",i[0],"/",i[1]]}),Object(c.jsx)("span",{className:"caret"})]}),Object(c.jsx)("ul",{className:"z-index-100000 dropdown-menu pair-selector",role:"menu","aria-labelledby":"dLabel",children:Object.entries(p||{}).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],s=n[1];return Object(c.jsxs)("li",{className:"dropdown-submenu",children:[Object(c.jsx)("a",{children:a}),Object(c.jsx)("ul",{className:"dropdown-menu pairlist",children:Object.entries(s).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)("li",{children:Object(c.jsx)("a",{className:"currpairs",onClick:function(){!function(e,t,n){var c=e.split("/");_e("pair",c[0].concat(c[1])),c.push(t),c.push(n),o(c),m("balance").then((function(e){Fe(e,t)}))}(a.wsname,a.base,a.quote)},children:a.wsname},n)},a.wsname)}))})]},a)}))})]})})]}),Object(c.jsxs)("div",{className:"tab-pane active",id:"new-order",children:[Object(c.jsx)("div",{id:"order-form-nav",children:Object(c.jsxs)("ul",{className:"nav nav-pills spaced20 mini dark vmarg30bot",children:[Object(c.jsx)("li",{className:"margin-left-20",onClick:function(){Ee("order-simple")},children:Object(c.jsx)("a",{id:"order-simple",className:te[0],children:"Simple "})}),Object(c.jsx)("li",{className:"margin-left-20",onClick:function(){Ee("order-int")},children:Object(c.jsx)("a",{id:"order-int",className:te[1],children:"Intermediate "})}),Object(c.jsx)("li",{className:"margin-left-20",onClick:function(){Ee("order-adv")},children:Object(c.jsx)("a",{id:"order-adv",className:te[2],children:"Advanced "})})]})}),Object(c.jsx)("form",{className:"form-order form-order-simple jq-validate-form vmarg5top",noValidate:"novalidate",children:Object(c.jsxs)("fieldset",{children:[Object(c.jsxs)("div",{id:"order-simple",className:se[0],children:[Object(c.jsx)("div",{className:"ib hmarg20right font-size-14",children:Object(c.jsxs)("div",{className:"ib btn-group","data-toggle":"buttons-radio",name:"type",children:[Object(c.jsx)("button",{type:"button",value:"buy",className:le[0],autoComplete:"off",onClick:function(){de(["btn btn-success","btn"]),_e("type","buy")},children:"Buy"}),Object(c.jsx)("button",{type:"button",value:"sell",className:le[1],autoComplete:"off",onClick:function(){de(["btn","btn btn-danger"]),_e("type","sell")},children:"Sell"})]})}),Object(c.jsx)("div",{className:"btn totalcoin",onClick:function(){!function(){var e=O(F,i[2]);y(e),_e("volume",e)}()},children:"All In"}),Object(c.jsxs)("div",{className:"ib control-group",children:[Object(c.jsxs)("div",{className:"input-append",children:[Object(c.jsx)("input",{placeholder:"Amount",tabIndex:"1",type:"text",autoComplete:"off",value:w,onChange:function(t){var n=t.target.value.replace(/[^\d.-]/g,"");n!==t.target.value?(e.classList.remove("hide"),e.classList.add("show")):(e.classList.remove("show"),e.classList.add("hide")),y(n),I(fe?n*U:n/U),_e("volume",n)},className:"input-medium ralign hmarg0right",name:"volume"}),Object(c.jsx)("div",{id:"tooltip_volume_pair1",className:"tooltip hide",children:' Only digit and "." for decimal'}),Object(c.jsx)("div",{className:"ib posrel",children:Object(c.jsxs)("div",{className:"dropdown",onClick:function(){Ae("dropdown-menu small"===Pe?"dropdown-menu small visible":"dropdown-menu small")},children:[Object(c.jsxs)("a",{title:"",className:"btn add-on volume-currency-toggle dropdown-toggle tt","data-toggle":"dropdown","data-original-title":"Click to switch amount currency.",children:[i[0]," ",Object(c.jsx)("span",{className:"caret"})]}),Object(c.jsxs)("ul",{className:Pe,children:[Object(c.jsx)("li",{onClick:function(){o([i[0],i[1],i[2],i[3]]),m("balance").then((function(e){Fe(e,i[2])}))},children:Object(c.jsxs)("a",{tabIndex:"1",children:["(",i[0],")"]})}),Object(c.jsx)("li",{onClick:function(){o([i[1],i[0],i[3],i[2]]),I(fe?w/U:U*w),ge(!fe),m("balance").then((function(e){Fe(e,i[3])}))},children:Object(c.jsxs)("a",{tabIndex:"1",children:["(",i[1],")"]})})]})]})})]}),Object(c.jsxs)("p",{className:"control-hint",children:["Amount of ",i[0]," to ",ye.type,". "]})]}),Object(c.jsx)("div",{className:"ib symbol calc-op-symbol pointer",onClick:function(){y(""),_e("volume",0)},children:"\xd7"}),Object(c.jsxs)("div",{className:"ib control-group",children:[Object(c.jsx)("div",{className:"ib",children:Object(c.jsxs)("div",{className:"input-append",children:[Object(c.jsx)("input",{type:"text",placeholder:"Price",tabIndex:"2",className:$[1],value:U,onChange:function(e){var n=e.target.value.replace(/[^\d.-]/g,"");n!==e.target.value?(t.classList.remove("hide"),t.classList.add("show")):(t.classList.remove("show"),t.classList.add("hide")),B(n),I(fe?n*w:w/n),_e("price",n)},name:"price",autoComplete:"off",disabled:$[0]}),Object(c.jsx)("span",{className:"add-on pair hmarg20right",children:i[1]}),Object(c.jsx)("div",{id:"tooltip_volume_pair2",className:"tooltip hide",children:' Only digit and "." for decimal'})]})}),Object(c.jsx)("div",{className:"ib ordertype-wrap",children:Object(c.jsxs)("div",{className:"btn-group","data-toggle":"buttons-radio",name:"ordertype",children:[Object(c.jsx)("button",{type:"button",className:ue[0],value:"market",autoComplete:"off",onClick:function(){he(["btn btn-type btn-small active","btn btn-type btn-small"]),_e("ordertype","market"),Z([!0,"input-small ralign hmarg0right disabled","input-medium ralign hmarg0right disabled"])},children:"Market"}),Object(c.jsx)("button",{type:"button",className:ue[1],value:"limit",autoComplete:"off",onClick:function(){he(["btn btn-type btn-small","btn btn-type btn-small active"]),_e("ordertype","limit"),Z([!1,"input-small ralign hmarg0right","input-medium ralign hmarg0right"])},children:"Limit"})]})}),Object(c.jsxs)("p",{className:"control-hint",name:"ordertype-hint",children:[Object(c.jsx)("span",{className:"capitalize",children:ye.type})," at a ",ye.ordertype," price per ",i[0],"."]})]}),Object(c.jsx)("div",{className:"ib symbol",children:"="}),Object(c.jsxs)("div",{className:"ib control-group",children:[Object(c.jsxs)("div",{className:"input-append",children:[Object(c.jsx)("input",{placeholder:"Total",type:"text",tabIndex:"3",autoComplete:"off",value:D,onChange:function(){},className:$[2],name:"total",disabled:$[0]}),Object(c.jsx)("span",{className:"add-on pair",children:i[1]})]}),Object(c.jsxs)("p",{className:"control-hint",name:"total-hint",children:["Estimated amount of ",i[1],"."]})]})]}),Object(c.jsx)("div",{className:"text-left",children:Object(c.jsxs)("div",{className:"control-group",children:[Object(c.jsx)("label",{className:"control-label",children:"Leverage"}),Object(c.jsxs)("div",{className:"controls",children:[Object(c.jsx)("div",{className:"btn-toolbar vmarg0","data-toggle":"buttons-radio",name:"leverage",children:Object(c.jsxs)("div",{className:"leverage-tt",children:[Object(c.jsx)("div",{className:"btn-group",children:Object(c.jsx)("button",{id:"lev-1",type:"button",className:"btn trade-margin-selector active",value:"none",autoComplete:"off",onClick:function(){De("lev-1","none")},children:"None"})}),Object(c.jsxs)("div",{className:"btn-group",children:[Object(c.jsx)("button",{id:"lev-2",type:"button",className:"btn trade-margin-selector",value:"2:1",autoComplete:"off",onClick:function(){De("lev-2","2:1")},children:"2"}),Object(c.jsx)("button",{id:"lev-3",type:"button",className:"btn trade-margin-selector",value:"3:1",autoComplete:"off",onClick:function(){De("lev-3","3:1")},children:"3"}),Object(c.jsx)("button",{id:"lev-4",type:"button",className:"btn trade-margin-selector",value:"4:1",autoComplete:"off",onClick:function(){De("lev-4","4:1")},children:"4"}),Object(c.jsx)("button",{id:"lev-5",type:"button",className:"btn trade-margin-selector",value:"5:1",autoComplete:"off",onClick:function(){De("lev-5","5:1")},children:"5"})]})]})}),Object(c.jsx)("p",{className:"control-hint",children:"\xa0"})]})]})}),Object(c.jsxs)("div",{className:"row vpad20 center posrel",children:[Object(c.jsx)("span",{className:"",children:Object(c.jsxs)("button",{autoComplete:"off",type:"button",className:"btn-order-review btn submit btn-success btn-large",onClick:function(){Le()},children:[Object(c.jsx)("span",{className:"capitalize",children:ye.type})," ",Object(c.jsxs)("span",{children:[i[0]," with ",i[1]]})]})}),Object(c.jsxs)("span",{id:"skip-confirmation-wrap",className:"",children:[Object(c.jsx)("input",{type:"checkbox",name:"skip-confirmation"}),"Skip order confirmations."]})]}),Object(c.jsx)("div",{id:"order-int",className:se[1],children:"work in progress"}),Object(c.jsx)("div",{id:"order-adv",className:se[2]})]})})]}),Object(c.jsxs)("div",{children:[ye.type,"   ",ye.pair,"   ",ye.ordertype,"  for ",ye.price," ",i[1]," ",ye.volume," ",i[0]," leverage ",ye.leverage," Total: ",D," ",i[0]]})]})};var P=function(){Object(a.useEffect)((function(){w()}),[]);var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)([]),p=Object(u.a)(d,2),m=p[0],O=p[1],v=Object(a.useState)(["hide"]),f=Object(u.a)(v,2),g=f[0],N=f[1],w=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("show"),O("width-15"),e.next=4,fetch("http://127.0.0.1:5555/kraken/tradesHistory");case 4:return t=e.sent,O("width-50"),e.next=8,t.json();case 8:n=e.sent,s(n.result.trades),O("width-100"),N("show"),setTimeout((function(){l("hide")}),1e3);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function y(e,t){var c=Object.keys(n).sort((function(t,c){return n[t][e]-n[c][e]})).map((function(e){return n[e]}));t&&c.reverse(),s(c)}var k,S=n||[];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Trade History"}),Object(c.jsx)(x,{visibleSpinner:o,spinnerWidth:m}),Object(c.jsx)("div",{className:"trades",children:Object(c.jsxs)("table",{className:g,children:[Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:(k=[{tablename:"Pairs",value:"pair"},{tablename:"Date",value:"time"},{tablename:"Type",value:"type"},{tablename:"Order",value:"ordertype"},{tablename:"Price",value:"price"},{tablename:"Volume",value:"vol"},{tablename:"Cost",value:"cost"},{tablename:"Fee",value:"fee"}],k.map((function(e){return Object(c.jsxs)("th",{className:"sorting_th",id:e.tablename,children:[Object(c.jsx)("div",{className:"sorting-icon asc",onClick:function(){return y(e.value,!1)}}),Object(c.jsx)("span",{children:e.tablename}),Object(c.jsx)("div",{className:"sorting-icon desc",onClick:function(){return y(e.value,!0)}})]},e.tablename)})))})}),Object(c.jsx)("tbody",{children:function(e){return Object.entries(e).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],s=n[1],r=s.pair.substring(1,4),i=s.pair.substring(5,9),o=new Date(1e3*s.time),l=o.toLocaleDateString("it-It");return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[r,"/",i]}),Object(c.jsxs)("td",{children:[" ",l," ",o.getHours(),":",o.getMinutes(),":",o.getSeconds()," "]}),Object(c.jsx)("td",{children:s.type}),Object(c.jsx)("td",{children:s.ordertype}),Object(c.jsxs)("td",{children:[i," ",h(i)?parseFloat(s.price).toFixed(4):s.price," "]}),Object(c.jsxs)("td",{children:[r," ",h(r)?parseFloat(s.vol).toFixed(4):s.vol]}),Object(c.jsxs)("td",{children:[i," ",h(i)?parseFloat(s.cost).toFixed(2):s.cost]}),Object(c.jsxs)("td",{children:[s.fee," "]})]},a)}))}(S)})]})})]})};var A=function(){Object(a.useEffect)((function(){w()}),[]);var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)([]),p=Object(u.a)(d,2),m=p[0],O=p[1],v=Object(a.useState)(["hide"]),f=Object(u.a)(v,2),g=f[0],N=f[1],w=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("show"),O("width-15"),e.next=4,fetch("http://127.0.0.1:5555/kraken/openPositions");case 4:return t=e.sent,O("width-50"),e.next=8,t.json();case 8:n=e.sent,s(n.result||[]),O("width-100"),N("show"),setTimeout((function(){l("hide")}),1e3);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l("show"),O("width-15"),e.next=5,fetch("http://127.0.0.1:5555/kraken/cancelOrder",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({txid:t})}).catch((function(e){console.error(e)}));case 5:return n=e.sent,O("width-50"),e.next=9,n.json();case 9:c=e.sent,s(c.result||[]),O("width-100"),N("show"),setTimeout((function(){l("hide")}),1e3),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("errore chiamata",e.t0),O("width-100"),l("hide");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();function k(e,t){var c=Object.keys(n).sort((function(t,c){return n[t][e]-n[c][e]})).map((function(e){return n[e]}));t&&c.reverse(),s(c)}var S,C=n||[];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Open Positions"}),Object(c.jsx)(x,{visibleSpinner:o,spinnerWidth:m}),Object(c.jsx)("div",{className:"trades",children:Object(c.jsxs)("table",{className:g,children:[Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:(S=[{tablename:"Pairs",value:"pair"},{tablename:"Date",value:"time",isSortable:!0},{tablename:"Type",value:"type",isSortable:!0},{tablename:"Order",value:"ordertype",isSortable:!0},{tablename:"Price",value:"price"},{tablename:"Volume",value:"vol"},{tablename:"Vol Closed",value:"vol_closed"},{tablename:"Cost",value:"cost"},{tablename:"Fee",value:"fee"},{tablename:"Terms",value:"terms"},{tablename:"Status",value:"posstatus"},{tablename:"Rollovertm",value:"rollovertm"},{tablename:"",value:"X"}],S.map((function(e){return e.isSortable?Object(c.jsxs)("th",{className:"sorting_th",id:e.tablename,children:[Object(c.jsx)("div",{className:"sorting-icon asc",onClick:function(){return k(e.value,!1)}}),Object(c.jsx)("span",{children:e.tablename}),Object(c.jsx)("div",{className:"sorting-icon desc",onClick:function(){return k(e.value,!0)}})]},e.tablename):Object(c.jsx)("th",{className:"sorting_th",id:e.tablename,children:Object(c.jsx)("span",{children:e.tablename})},e.tablename)})))})}),Object(c.jsx)("tbody",{children:function(e){return Object.entries(e).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],s=n[1],r=s.pair.substring(1,4),i=s.pair.substring(5,9),o=new Date(1e3*s.time),l=o.toLocaleDateString("it-It"),d=new Date(1e3*s.rollovertm),j=d.toLocaleDateString("it-It");return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[r,"/",i]}),Object(c.jsxs)("td",{children:[" ",l," ",o.getHours(),":",o.getMinutes(),":",o.getSeconds()," "]}),Object(c.jsx)("td",{children:s.type}),Object(c.jsx)("td",{children:s.ordertype}),Object(c.jsxs)("td",{children:[s.margin," "]}),Object(c.jsxs)("td",{children:[r," ",h(r)?parseFloat(s.vol).toFixed(2):s.vol]}),Object(c.jsx)("td",{children:s.vol_closed}),Object(c.jsxs)("td",{children:[i," ",h(i)?parseFloat(s.cost).toFixed(2):s.cost]}),Object(c.jsx)("td",{children:s.fee}),Object(c.jsx)("td",{children:s.terms}),Object(c.jsx)("td",{children:s.posstatus}),Object(c.jsxs)("td",{children:[j," ",d.getHours(),":",d.getMinutes(),":",d.getSeconds()," "]}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"btn btn-danger thin tt btn-cancel",onClick:function(){y(a)},children:"X"})})]},a)}))}(C)})]})})]})};var T=function(){Object(a.useEffect)((function(){C()}),[]);var e,t,n=Object(a.useState)({}),s=Object(u.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),d=l[0],O=l[1],v=Object(a.useState)([]),f=Object(u.a)(v,2),g=f[0],N=f[1],w=Object(a.useState)(["hide"]),y=Object(u.a)(w,2),k=y[0],S=y[1],C=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("show"),N("width-15"),m("openOrders").then((function(e){N("width-50"),i(e.result.open||[]),N("width-100"),S("show"),setTimeout((function(){O("hide"),N("width-15")}),1e3)})).catch((function(e){alert(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m("cancelOrder",{txid:t},"POST").then((function(e){alert("Deleted"),console.log(e),C()})).catch((function(e){alert(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function A(e,t){var n=Object.keys(r).sort((function(t,n){return r[t][e]-r[n][e]})).map((function(e){return r[e]}));t&&n.reverse(),i(n)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Open Order"}),Object(c.jsx)(x,{visibleSpinner:d,spinnerWidth:g}),Object(c.jsx)("div",{className:"trades",children:Object(c.jsxs)("table",{className:k,children:[Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:(t=[{tablename:"Pairs",value:"pair"},{tablename:"Opened",value:"time",isSortable:!0},{tablename:"Type",value:"type"},{tablename:"Order",value:"ordertype",isSortable:!0},{tablename:"Price",value:"price",isSortable:!0},{tablename:"Volume",value:"vol",isSortable:!0},{tablename:"Cost",value:"cost",isSortable:!0},{tablename:"",value:"X"}],t.map((function(e){return e.isSortable?Object(c.jsxs)("th",{className:"sorting_th",id:e.tablename,children:[Object(c.jsx)("div",{className:"sorting-icon asc",onClick:function(){return A(e.value,!1)}}),Object(c.jsx)("span",{children:e.tablename}),Object(c.jsx)("div",{className:"sorting-icon desc",onClick:function(){return A(e.value,!0)}})]},e.tablename):Object(c.jsx)("th",{className:"sorting_th",id:e.tablename,children:Object(c.jsx)("span",{children:e.tablename})},e.tablename)})))})}),Object(c.jsx)("tbody",{children:(e=r,Object.getOwnPropertyNames(e).length>0?Object.entries(e).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],s=n[1],r=s.descr.pair.substring(0,3),i=s.descr.pair.substring(3,6),o=new Date(1e3*s.opentm),l=o.toLocaleDateString("it-It");return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[r,"/",i]}),Object(c.jsxs)("td",{children:[" ",l," ",o.getHours(),":",o.getMinutes(),":",o.getSeconds()," "]}),Object(c.jsx)("td",{children:s.descr.type}),Object(c.jsx)("td",{children:s.descr.ordertype}),Object(c.jsxs)("td",{children:[i," ",h(i)?p(i)+parseFloat(s.descr.price).toFixed(2):s.descr.price," "]}),Object(c.jsxs)("td",{children:[r," ",h(r)?p(r)+parseFloat(s.vol).toFixed(2):s.vol]}),Object(c.jsxs)("td",{children:[i," ",h(i)?p(i)+parseFloat(s.cost).toFixed(2):s.cost]}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"btn btn-danger thin tt btn-cancel",onClick:function(){P(a)},children:"X"})})]},a)})):Object(c.jsx)("tr",{children:"No results"}))})]})})]})};var F=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(T,{}),Object(c.jsx)(A,{})]})};var L=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(w,{}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:f}),Object(c.jsx)(l.a,{exact:!0,path:"/balance",component:y}),Object(c.jsx)(l.a,{exact:!0,path:"/about",component:g}),Object(c.jsx)(l.a,{exact:!0,path:"/addorder/:pair",component:C}),Object(c.jsx)(l.a,{exact:!0,path:"/tradesHistory",component:P}),Object(c.jsx)(l.a,{exact:!0,path:"/openPositions",component:A}),Object(c.jsx)(l.a,{exact:!0,path:"/openOrders",component:T}),Object(c.jsx)(l.a,{exact:!0,path:"/tradesOpened",component:F}),Object(c.jsx)(l.a,{exact:!0,path:"/loging",component:S}),Object(c.jsx)(l.a,{exact:!0,path:"/signup",component:k})]})]})})},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_(t,e)}))}}()},7:function(e,t,n){}},[[35,1,2]]]);
//# sourceMappingURL=main.6adad239.chunk.js.map